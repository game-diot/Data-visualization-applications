{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport txtS from '../views/txtS.vue';\nimport NotFoundPage from '../views/NotFoundPage.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  redirect: '/login'\n}, {\n  path: '/home',\n  name: 'home',\n  component: txtS,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/about',\n  name: 'AboutView',\n  component: () => import(/* webpackChunkName: \"about\" */'../views/AboutView.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/login',\n  name: 'LoginPage',\n  meta: {\n    guestOnly: true\n  },\n  component: () => import(/* webpackChunkName: \"about\" */'../views/LoginPage.vue')\n}, {\n  path: '*',\n  component: NotFoundPage\n}];\nconst router = new VueRouter({\n  routes\n});\nconst isAuthenticated = () => {\n  return localStorage.getItem('Authtoken') != null;\n};\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth) && !isAuthenticated()) {\n    next({\n      name: 'login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  } else if (to.matched.some(record => record.meta.guestOnly) && isAuthenticated()) {\n    next({\n      name: 'index'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","txtS","NotFoundPage","use","routes","path","redirect","name","component","meta","requiresAuth","guestOnly","router","isAuthenticated","localStorage","getItem","beforeEach","to","from","next","matched","some","record","query","fullPath"],"sources":["D:/DataVzzj/Data-visualization-applications/Vue_frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport txtS from '../views/txtS.vue'\r\nimport NotFoundPage from '../views/NotFoundPage.vue'\r\n\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path:'/',\r\n    redirect:'/login'\r\n  },\r\n  {\r\n    path: '/home',\r\n    name: 'home',\r\n    component: txtS,\r\n    meta:{requiresAuth: true}\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'AboutView',\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue'),\r\n    meta:{requiresAuth: true}\r\n  },\r\n    {\r\n    path: '/login',\r\n    name: 'LoginPage',\r\n    meta:{guestOnly: true},\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/LoginPage.vue'),\r\n  },\r\n  {\r\n    path:'*',\r\n    component:NotFoundPage\r\n  },\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\nconst isAuthenticated = () =>{\r\n  return localStorage.getItem('Authtoken') != null\r\n}\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.matched.some(record => record.meta.requiresAuth) && !isAuthenticated()){\r\n    next({name: 'login', query:{redirect: to.fullPath}})\r\n  }\r\n  else if(to.matched.some(record => record.meta.guestOnly) && isAuthenticated()){\r\n    next({name:'index'})\r\n  }\r\n  else{\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,YAAY,MAAM,2BAA2B;AAGpDH,GAAG,CAACI,GAAG,CAACH,SAAS,CAAC;AAElB,MAAMI,MAAM,GAAG,CACb;EACEC,IAAI,EAAC,GAAG;EACRC,QAAQ,EAAC;AACX,CAAC,EACD;EACED,IAAI,EAAE,OAAO;EACbE,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEP,IAAI;EACfQ,IAAI,EAAC;IAACC,YAAY,EAAE;EAAI;AAC1B,CAAC,EACD;EACEL,IAAI,EAAE,QAAQ;EACdE,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAAgC,wBAAwB,CAAC;EACjFC,IAAI,EAAC;IAACC,YAAY,EAAE;EAAI;AAC1B,CAAC,EACC;EACAL,IAAI,EAAE,QAAQ;EACdE,IAAI,EAAE,WAAW;EACjBE,IAAI,EAAC;IAACE,SAAS,EAAE;EAAI,CAAC;EACtBH,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAAgC,wBAAwB;AAClF,CAAC,EACD;EACEH,IAAI,EAAC,GAAG;EACRG,SAAS,EAACN;AACZ,CAAC,CACF;AAED,MAAMU,MAAM,GAAG,IAAIZ,SAAS,CAAC;EAC3BI;AACF,CAAC,CAAC;AACF,MAAMS,eAAe,GAAGA,CAAA,KAAK;EAC3B,OAAOC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI;AAClD,CAAC;AACDH,MAAM,CAACI,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAGF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACC,YAAY,CAAC,IAAI,CAACG,eAAe,CAAC,CAAC,EAAC;IAC3EM,IAAI,CAAC;MAACZ,IAAI,EAAE,OAAO;MAAEgB,KAAK,EAAC;QAACjB,QAAQ,EAAEW,EAAE,CAACO;MAAQ;IAAC,CAAC,CAAC;EACtD,CAAC,MACI,IAAGP,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACE,SAAS,CAAC,IAAIE,eAAe,CAAC,CAAC,EAAC;IAC5EM,IAAI,CAAC;MAACZ,IAAI,EAAC;IAAO,CAAC,CAAC;EACtB,CAAC,MACG;IACFY,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeP,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}