{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport txtS from '../views/txtS.vue';\nimport NotFoundPage from '../views/NotFoundPage.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/home',\n  name: 'home',\n  component: txtS,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/about',\n  name: 'about',\n  component: () => import(/* webpackChunkName: \"about\" */'../views/AboutView.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/login',\n  name: 'LoginPage',\n  meta: {\n    guestOnly: true\n  },\n  component: () => import(/* webpackChunkName: \"about\" */'../views/LoginPage.vue')\n}, {\n  path: '*',\n  component: NotFoundPage\n}];\nconst router = new VueRouter({\n  routes\n});\nconst isAuthenticated = () => {\n  return localStorage.getItem('Authtoken') != null;\n};\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth) && !isAuthenticated()) {\n    next({\n      name: 'login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  } else if (to.matched.some(record => record.meta.guestOnly) && isAuthenticated()) {\n    next({\n      name: 'index'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","txtS","NotFoundPage","use","routes","path","name","component","meta","requiresAuth","guestOnly","router","isAuthenticated","localStorage","getItem","beforeEach","to","from","next","matched","some","record","query","redirect","fullPath"],"sources":["D:/projects/new1/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport txtS from '../views/txtS.vue'\nimport NotFoundPage from '../views/NotFoundPage.vue'\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/home',\n    name: 'home',\n    component: txtS,\n    meta:{requiresAuth: true}\n  },\n  {\n    path: '/about',\n    name: 'about',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue'),\n    meta:{requiresAuth: true}\n  },\n    {\n    path: '/login',\n    name: 'LoginPage',\n    meta:{guestOnly: true},\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/LoginPage.vue'),\n  },\n  {\n    path:'*',\n    component:NotFoundPage\n  },\n]\n\nconst router = new VueRouter({\n  routes\n})\nconst isAuthenticated = () =>{\n  return localStorage.getItem('Authtoken') != null\n}\nrouter.beforeEach((to, from, next) => {\n  if(to.matched.some(record => record.meta.requiresAuth) && !isAuthenticated()){\n    next({name: 'login', query:{redirect: to.fullPath}})\n  }\n  else if(to.matched.some(record => record.meta.guestOnly) && isAuthenticated()){\n    next({name:'index'})\n  }\n  else{\n    next()\n  }\n})\n\nexport default router\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,YAAY,MAAM,2BAA2B;AAGpDH,GAAG,CAACI,GAAG,CAACH,SAAS,CAAC;AAElB,MAAMI,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEN,IAAI;EACfO,IAAI,EAAC;IAACC,YAAY,EAAE;EAAI;AAC1B,CAAC,EACD;EACEJ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAAgC,wBAAwB,CAAC;EACjFC,IAAI,EAAC;IAACC,YAAY,EAAE;EAAI;AAC1B,CAAC,EACC;EACAJ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,WAAW;EACjBE,IAAI,EAAC;IAACE,SAAS,EAAE;EAAI,CAAC;EACtBH,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAAgC,wBAAwB;AAClF,CAAC,EACD;EACEF,IAAI,EAAC,GAAG;EACRE,SAAS,EAACL;AACZ,CAAC,CACF;AAED,MAAMS,MAAM,GAAG,IAAIX,SAAS,CAAC;EAC3BI;AACF,CAAC,CAAC;AACF,MAAMQ,eAAe,GAAGA,CAAA,KAAK;EAC3B,OAAOC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,IAAI,IAAI;AAClD,CAAC;AACDH,MAAM,CAACI,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAGF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACC,YAAY,CAAC,IAAI,CAACG,eAAe,CAAC,CAAC,EAAC;IAC3EM,IAAI,CAAC;MAACZ,IAAI,EAAE,OAAO;MAAEgB,KAAK,EAAC;QAACC,QAAQ,EAAEP,EAAE,CAACQ;MAAQ;IAAC,CAAC,CAAC;EACtD,CAAC,MACI,IAAGR,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACE,SAAS,CAAC,IAAIE,eAAe,CAAC,CAAC,EAAC;IAC5EM,IAAI,CAAC;MAACZ,IAAI,EAAC;IAAO,CAAC,CAAC;EACtB,CAAC,MACG;IACFY,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeP,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}