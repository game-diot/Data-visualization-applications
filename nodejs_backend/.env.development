# ==========================================
# 1. 核心应用配置 (Core Application)
# ==========================================
NODE_ENV=development
PORT=5000
# API 全局前缀 (方便后续 nginx 转发，如 /api/v1)
API_PREFIX=/api/v1

# ==========================================
# 2. 数据库配置 (Database - MongoDB)
# ==========================================
# 建议显式写出 authSource (如有密码)
MONGODB_URL=mongodb://localhost:27017/data_v_platform
MONGODB_DB_NAME=data_v_platform

# ==========================================
# 3. 缓存配置 (Infrastructure - Redis)
# ==========================================
REDIS_URL=redis://localhost:6379
# 如果有密码：
# REDIS_PASSWORD=secret
# Redis 键前缀，防止和其他项目冲突
REDIS_KEY_PREFIX=dv_platform:

# ==========================================
# 4. 安全与鉴权 (Security & Auth)
# ==========================================
# ⚠️ 生产环境务必生成复杂的随机字符串
JWT_SECRET=dev_secret_key_change_me_123456
# Token 过期时间
JWT_EXPIRES_IN=7d
# CORS 白名单：允许哪个前端地址访问 (开发环境可配 *, 生产环境必须指定)
CORS_ORIGIN=http://localhost:5173

# ==========================================
# 5. 外部服务通信 (External Services)
# ==========================================
# Python 分析服务地址
FASTAPI_BASE_URL=http://localhost:8000
# 请求 FastAPI 的超时时间 (毫秒)，数据分析可能较慢，建议设长一点 (例如 5分钟)
AXIOS_TIMEOUT=300000

# 前端地址 (用于生成回调链接或邮件通知等)
REACT_BASE_URL=http://localhost:5173

# ==========================================
# 6. 文件上传管理 (File Upload)
# ==========================================
# 临时文件存放路径 (Node.js 接收上传)
UPLOAD_TEMP_DIR=temp
# 持久化文件存放路径 (MongoDB 登记后)
UPLOAD_PERSIST_DIR=uploads
# 最大文件大小 (字节), 例如 50MB = 52428800
MAX_FILE_SIZE=52428800

# ==========================================
# 7. AI 模块 (LangChain / LLM)
# ==========================================
# 你的毕设需要生成 AI 报告，这里预留 Key 位置
# 如果用 OpenAI
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxx
# 如果用国内模型 (如阿里通义、智谱等)，预留 BaseURL
LLM_BASE_URL=https://api.openai.com/v1

# ==========================================
# 8. 日志系统 (Logging)
# ==========================================
LOG_LEVEL=debug
LOG_DIR=logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
RATE_LIMIT_WINDOWMS=900000
RATE_LIMIT_MAX=100